#!/usr/bin/python3

import socket

def simple_port_scan(target_ip, port_range):
    """Enkel portskanning mot en specifik IP-adress.

    Args:
        target_ip (str): IP-adressen för målvärden.
        port_range (tuple): Ett tupel som specificerar start och slut för portintervall (inklusive).

    Returns:
        En lista med öppna portar.
    """
    open_ports = []
    for port in range(port_range[0], port_range[1] + 1):
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(1)  # Timeout för att göra skanningen snabbare
        result = sock.connect_ex((target_ip, port))
        if result == 0:
            print(f"Port {port} is open.")
            open_ports.append(port)
        sock.close()
    return open_ports

if __name__ == "__main__":
    target = input("Enter target IP: ")
    start_port = int(input("Enter start port: "))
    end_port = int(input("Enter end port: "))

    open_ports = simple_port_scan(target, (start_port, end_port))
    print(f"Open ports on {target}: {open_ports}")

